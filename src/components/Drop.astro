---
import type { ImageMetadata } from 'astro';

interface Props {
  title: string;
  colors?: {
    primary?: string;
    secondary?: string;
    tertiary?: string;
  };
  class?: string;
  backgroundImage?: ImageMetadata;
}

const { title, colors, class: className, backgroundImage } = Astro.props;

const id = title.replace(' ', '-');

const styleVars = [
  colors?.primary && `--color-primary: ${colors.primary}`,
  colors?.secondary && `--color-secondary: ${colors.secondary}`,
  colors?.tertiary && `--color-tertiary: ${colors.tertiary}`,
]
  .filter(Boolean)
  .join('; ');

const backgroundStyle = backgroundImage
  ? `background-image: url(${backgroundImage.src}); background-size: cover; background-position: center; background-repeat: no-repeat;`
  : '';
---

<section style={styleVars || undefined} class={className}>
  <h1
    id={id}
    class:list={[
      'font-cursive text-primary my-8 py-8 text-center tracking-widest',
      { 'bg-secondary': !backgroundImage },
    ]}
    style={backgroundStyle}
  >
    {title}
  </h1>
  <div class="flex w-full flex-wrap justify-center gap-8">
    <slot />
  </div>
</section>
