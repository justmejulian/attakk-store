---
import AddProductButton from '@components/AddProductButton.tsx';

interface Props {
  id: string;
  title: string;
  price: number;
  imageUrls: [string, string];
}

const { id, title, price, imageUrls } = Astro.props as Props;
---

<div tabIndex={0} class="group overflow-hiddens relative block w-full md:w-1/3">
  <img
    src={imageUrls[0]}
    alt=""
    class="absolute z-10 h-full w-full object-cover opacity-100 group-hover:hidden group-focus:hidden"
  />
  <div class="flex h-full w-full flex-col items-center justify-center">
    <img
      src={imageUrls[1]}
      alt=""
      class="h-full w-full max-w-md object-cover opacity-0 group-hover:opacity-100 group-focus:opacity-100"
    />

    <div class="w-full max-w-md p-3">
      <h3
        class="decoration-primary text-secondary text-sm group-hover:underline group-hover:underline-offset-4"
      >
        {title}
      </h3>

      <p class="mt-1 pb-3 tracking-wide">
        {`${price}.00 CHF`}
      </p>
    </div>
    <div class="flex w-full max-w-md justify-center">
      <AddProductButton productId={id} client:visible />
    </div>
  </div>
</div>
